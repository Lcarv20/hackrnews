import { josefinSans } from "@/ui/fonts";
import type { Metadata } from "next";
import { twJoin } from "tailwind-merge";
import "./globals.css";
import { getThemeCookie } from "./theme-cookie";
import ThemeLoader from "./theme-loader";
import Navbar from "./(navbar)";

export const metadata: Metadata = {
	title: "Create Next App",
	description: "Generated by create next app",
};

export default function RootLayout({
	children,
	modal,
}: {
	children: React.ReactNode;
		modal: React.ReactNode;
}) {
	const theme = getThemeCookie();

	return (
		<html
			data-mode={theme ?? "system"}
			lang="en"
			className={theme === "dark" ? "dark" : ""}
		>
			<body
				className={twJoin(
					"bg-background transition-colors p-2 mx-auto md:p-4 text-textColor container",
					josefinSans.className,
					// TODO: add dark and light colors
				)}
			>
				<ThemeLoader />
				<Navbar />
				{modal}
				{children}
			</body>
		</html>
	);
}
